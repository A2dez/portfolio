[
  {
    "objectID": "testing.html",
    "href": "testing.html",
    "title": "Clean data",
    "section": "",
    "text": "print(\"hello world\")\n\n[1] \"hello world\""
  },
  {
    "objectID": "testing.html#flipping-hell-the-absolute-state-of-irelands-property-price-index.",
    "href": "testing.html#flipping-hell-the-absolute-state-of-irelands-property-price-index.",
    "title": "Clean data",
    "section": "Flipping hell: the absolute state of Ireland’s property price index.",
    "text": "Flipping hell: the absolute state of Ireland’s property price index.\nThe property price index is a truly valuable resource which lists the price of every gaff sold in (the twenty-six counties of) Ireland since 2010. That’s 155362 house sales at the time of writing. Unfortunately, the database was designed by people who ‘know the price of everything but the value of nothing’. Allegedly, the data has been uploaded one entry at a time, by solicitors’ secretaries, many of whom express their humanity through misspelling and irregular punctuation, while several express their Irishness with the cúpla focail. Understanding the data is thus a bit like being given a big five-bed house for a holiday but having to wade through the previous tenants’ filth.\nMy role here is to take this unkempt raw data and flip it, scrubbing it goodo, and presenting it back to you, the reader, as an inhabitable space which, I hope, you can explore with some pleasure.\n\nWhat is contained in the data?\nLet’s have quick look at the last few rows.vect\n\n\n# A tibble: 6 × 9\n  `Date of Sale (dd/mm/yyyy)` Address            County Eircode `Price (\\u0080)`\n  &lt;chr&gt;                       &lt;chr&gt;              &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;           \n1 01/08/2025                  Kilruane, LISCAUL… Rosco… &lt;NA&gt;    \"\\u0080325,000.…\n2 01/08/2025                  Rathurtin, Clonro… Wexfo… &lt;NA&gt;    \"\\u0080339,207.…\n3 01/08/2025                  ROSANNA, TIPPERARY Tippe… &lt;NA&gt;    \"\\u0080394,000.…\n4 01/08/2025                  SADDLESTOWN, STAM… Meath  K32PD63 \"\\u0080210,000.…\n5 01/08/2025                  SPENCER PARK, CAS… Mayo   &lt;NA&gt;    \"\\u0080330,000.…\n6 01/08/2025                  TULLIGBEG, KILLOR… Kerry  V93P3C9 \"\\u0080250,000.…\n# ℹ 4 more variables: `Not Full Market Price` &lt;chr&gt;, `VAT Exclusive` &lt;chr&gt;,\n#   `Description of Property` &lt;chr&gt;, `Property Size Description` &lt;chr&gt;\n\n\nEach house sale has a date, a sale price, and an address, so that you can spy on your neighbours, or eye up the old price of a gaff you are interested in. If it has been sold since 2010. There is a useful column for the county so that we can divvy up the data into 26 important groups.\nThere is also some secondary data, such as whether the property was sold at the market price or not, whether VAT was charged, whether the house was new or second-hand. Occasionally a size category is included,roughly equating to tiny (&lt;38sq. m), large (&gt; 125 sq.m) or anything in-between.\nWe will look at each of these columns in turn and, in doing so, I will clean them up, before plotting the cleaner version of the data.\n\n\nColumn names\nThe first thing to note is that the column names need cleaning as they were designed for humans to read rather than for people telling computers what to do.\n\n\n[1] \"Date of Sale (dd/mm/yyyy)\" \"Address\"                  \n[3] \"County\"                    \"Eircode\"                  \n[5] \"Price (\\u0080)\"            \"Not Full Market Price\"    \n[7] \"VAT Exclusive\"             \"Description of Property\"  \n[9] \"Property Size Description\"\n\n\nSpaces are an anathema to coders so they need to go and they can be replaced with underscore, where necessary. Lowercase letters are easier to code with, mostly, because you don’t have to remember when you put capitals in. Ideally we’d just take the first word of the column, and we could rename the columns formulaically, e.g with a regex such as .*?(?=\\s|$), but the first word may not be the most important. ‘Property Size Description’ is better represented by ‘size’ than ‘property’ or ‘description’. Thus we can rename the columns manually:\n\n\n[1] \"date\"         \"address\"      \"county\"       \"eircode\"      \"price\"       \n[6] \"market_price\" \"vat\"          \"new\"          \"size\"        \n\n\n\n# It should be noted that there are a few houses with eircodes befored 2020\n# property %&gt;%\n#  filter(year &lt; 2021, !is.na(eircode)) %&gt;%\n#  View\n\n# property_raw %&gt;%\n# left_join(postcode_dfrm)\n\n\n\nDates and sales\nSo the simplest thing to look at is how many properties have been sold each year since they started collecting the data.\n\n#| message: false\n#| warning: false\nannual_sales &lt;- \n  property %&gt;% \n  group_by(year) %&gt;% \n  summarise(sales = n())\n# mutate(year = year %&gt;% as.factor) %&gt;% \n(annual_sales %&gt;% \n    ggplot(aes(x = year  , \n               y = sales)) +\n    geom_line(size = 2) +\n    geom_point(size = 4, color = 'orange') +\n    \n    # scale_x_discrete() \n    scale_x_continuous(breaks = annual_sales$year) + #, position = \"top\" doeesn't work automatically in ggplotly\n    #round max sales up to nearest 10k then add 5k for spacing\n    scale_y_continuous(expand = c(0, 0), limits = c(0, max(annual_sales$sales) %&gt;% round(digits = -4) + 5000)) +\n    labs(title = 'Number of properties sold in Ireland each year, 2010-present', \n         y = '', x = '') +\n    my_theme) %&gt;% \n  ggplotly \n\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "portfolio",
    "section": "",
    "text": "This is a Quarto website.\nTo learn more about Quarto websites visit https://quarto.org/docs/websites.\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  }
]